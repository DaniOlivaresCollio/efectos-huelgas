"0","# Recodificar variable CIIU 3 para que queden de 4 dígitos"
"0","data$ciiu3 <- sprintf(""%04d"",data$ciiu3_m04)"
"0",""
"0","# Recodificar variable CIIU 4 para que queden de 4 dígitos"
"0","data$ciiu4 <- sprintf(""%04d"",data$ciiu4_m04)"
"0",""
"0","# Creación de variable CIIU 4 con CIIU 3"
"0","## Carga bbdd con comparacion 31 y 4"
"0","isic4_isic31 <- read_csv(here::here(""input/ISIC4_ISIC31.txt""))"
"0",""
"0","## Recodificación CIIU 3 -> CIIU 4"
"0","indices <- match(data$ciiu3,isic4_isic31$ISIC31code)"
"0","data$ciiu4_rec <- isic4_isic31$ISIC4code[indices]"
"0",""
"0","# Creación variable isic4 con ciiu4 y ciiu4_rec (ex ciiu3) 4 digitos"
"0","data$isic4 <- ifelse(!is.na(data$ciiu4_rec),data$ciiu4_rec,data$ciiu4) # es la unión en una variable de todo en ciiu4"
